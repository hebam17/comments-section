{"ast":null,"code":"import _asyncToGenerator from\"E:/courses/my_personal_file/challenges/comments-section/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"E:\\\\courses\\\\my_personal_file\\\\challenges\\\\comments-section\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";var axios=require(\"axios\");exports.handleReply=function(setReplyComment){setReplyComment(true);};exports.handleReplyActive=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(setReplyComment,text,comment,currentUser){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.put(\"/comments/reply/\".concat(comment._id),{content:text,type:\"reply\",user:currentUser._id});case 3:setReplyComment(false);window.location.reload(true);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0.message);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function(_x,_x2,_x3,_x4){return _ref.apply(this,arguments);};}();exports.handleComment=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(text,setText,currentUser){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.post(\"/comments/\",{content:text,type:\"comment\",user:currentUser._id});case 3:setText(\"\");window.location.reload(true);_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0.message);case 10:case\"end\":return _context2.stop();}}},_callee2,null,[[0,7]]);}));return function(_x5,_x6,_x7){return _ref2.apply(this,arguments);};}();exports.handleEditComment=function(textRef,setUpdate){textRef.current.readOnly=false;textRef.current.focus();textRef.current.selectionStart=textRef.current.value.length;setUpdate(true);textRef.current.parentNode.classList.add(\"text-edit\");};// try {\n//   await axios.put(`/comments/${currentUser._id}/${comment._id}`, {\n//     content: text,\n//   });\n//   window.location.reload(true);\n// } catch (err) {\n//   console.log(err.message);\n// }\nexports.handleUpdateComment=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(comment,currentUser,text){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:console.log(comment,currentUser);_context3.prev=1;_context3.next=4;return axios.put(\"/comments/\".concat(currentUser._id,\"/\").concat(comment._id),{content:text});case 4:window.location.reload(true);_context3.next=10;break;case 7:_context3.prev=7;_context3.t0=_context3[\"catch\"](1);console.log(_context3.t0.message);case 10:case\"end\":return _context3.stop();}}},_callee3,null,[[1,7]]);}));return function(_x8,_x9,_x10){return _ref3.apply(this,arguments);};}();exports.handleUpdateReply=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(reply,comment,currentUser,text){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:console.log(comment,currentUser);_context4.prev=1;_context4.next=4;return axios.put(\"/comments/reply/\".concat(currentUser.username,\"/\").concat(comment._id,\"/\").concat(reply._id),{content:text});case 4:window.location.reload(true);_context4.next=10;break;case 7:_context4.prev=7;_context4.t0=_context4[\"catch\"](1);console.log(_context4.t0.message);case 10:case\"end\":return _context4.stop();}}},_callee4,null,[[1,7]]);}));return function(_x11,_x12,_x13,_x14){return _ref4.apply(this,arguments);};}();exports.handleDeleteModal=function(setDisplayModal,deleteRef){console.log(\"deleteRef:\",deleteRef);setDisplayModal(\"block\");deleteRef.current.style.display=\"block\";};exports.handleCancelDelete=function(setDisplayModal,deleteRef){setDisplayModal(\"none\");deleteRef.current.style.display=\"none\";};exports.handleConfirmDeleteComment=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(currentUser,comment,setDisplayModal,deleteRef){return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;_context5.next=3;return axios.delete(\"/comments/\".concat(currentUser._id,\"/\").concat(comment._id));case 3:console.log(\"deleted successfully!\");setDisplayModal(\"none\");deleteRef.current.style.display=\"none\";window.location.reload(true);_context5.next=12;break;case 9:_context5.prev=9;_context5.t0=_context5[\"catch\"](0);console.log(_context5.t0);case 12:case\"end\":return _context5.stop();}}},_callee5,null,[[0,9]]);}));return function(_x15,_x16,_x17,_x18){return _ref5.apply(this,arguments);};}();exports.handleConfirmDeleteReply=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(currentUser,comment,reply,setDisplayModal,deleteRef){return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.prev=0;_context6.next=3;return axios.delete(\"/comments/reply/\".concat(currentUser.username,\"/\").concat(comment._id,\"/\").concat(reply._id));case 3:console.log(\"deleted successfully!\");setDisplayModal(\"none\");deleteRef.current.style.display=\"none\";window.location.reload(true);_context6.next=12;break;case 9:_context6.prev=9;_context6.t0=_context6[\"catch\"](0);console.log(_context6.t0);case 12:case\"end\":return _context6.stop();}}},_callee6,null,[[0,9]]);}));return function(_x19,_x20,_x21,_x22,_x23){return _ref6.apply(this,arguments);};}();","map":{"version":3,"sources":["E:/courses/my_personal_file/challenges/comments-section/client/src/utils.js"],"names":["axios","require","exports","handleReply","setReplyComment","handleReplyActive","text","comment","currentUser","put","_id","content","type","user","window","location","reload","console","log","message","handleComment","setText","post","handleEditComment","textRef","setUpdate","current","readOnly","focus","selectionStart","value","length","parentNode","classList","add","handleUpdateComment","handleUpdateReply","reply","username","handleDeleteModal","setDisplayModal","deleteRef","style","display","handleCancelDelete","handleConfirmDeleteComment","delete","handleConfirmDeleteReply"],"mappings":"qTAAA,GAAMA,CAAAA,KAAK,CAAGC,OAAO,CAAC,OAAD,CAArB,CAEAC,OAAO,CAACC,WAAR,CAAsB,SAACC,eAAD,CAAqB,CACzCA,eAAe,CAAC,IAAD,CAAf,CACD,CAFD,CAIAF,OAAO,CAACG,iBAAR,0FAA4B,iBAC1BD,eAD0B,CAE1BE,IAF0B,CAG1BC,OAH0B,CAI1BC,WAJ0B,wJAOlBR,CAAAA,KAAK,CAACS,GAAN,2BAA6BF,OAAO,CAACG,GAArC,EAA4C,CAChDC,OAAO,CAAEL,IADuC,CAEhDM,IAAI,CAAE,OAF0C,CAGhDC,IAAI,CAAEL,WAAW,CAACE,GAH8B,CAA5C,CAPkB,QAYxBN,eAAe,CAAC,KAAD,CAAf,CACAU,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,IAAvB,EAbwB,+EAexBC,OAAO,CAACC,GAAR,CAAY,YAAIC,OAAhB,EAfwB,oEAA5B,2EAmBAjB,OAAO,CAACkB,aAAR,2FAAwB,kBAAOd,IAAP,CAAae,OAAb,CAAsBb,WAAtB,8JAEdR,CAAAA,KAAK,CAACsB,IAAN,CAAW,YAAX,CAAyB,CAC7BX,OAAO,CAAEL,IADoB,CAE7BM,IAAI,CAAE,SAFuB,CAG7BC,IAAI,CAAEL,WAAW,CAACE,GAHW,CAAzB,CAFc,QAOpBW,OAAO,CAAC,EAAD,CAAP,CACAP,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,IAAvB,EARoB,mFAUpBC,OAAO,CAACC,GAAR,CAAY,aAAIC,OAAhB,EAVoB,sEAAxB,yEAcAjB,OAAO,CAACqB,iBAAR,CAA4B,SAACC,OAAD,CAAUC,SAAV,CAAwB,CAClDD,OAAO,CAACE,OAAR,CAAgBC,QAAhB,CAA2B,KAA3B,CACAH,OAAO,CAACE,OAAR,CAAgBE,KAAhB,GACAJ,OAAO,CAACE,OAAR,CAAgBG,cAAhB,CAAiCL,OAAO,CAACE,OAAR,CAAgBI,KAAhB,CAAsBC,MAAvD,CACAN,SAAS,CAAC,IAAD,CAAT,CACAD,OAAO,CAACE,OAAR,CAAgBM,UAAhB,CAA2BC,SAA3B,CAAqCC,GAArC,CAAyC,WAAzC,EACD,CAND,CAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEAhC,OAAO,CAACiC,mBAAR,2FAA8B,kBAAO5B,OAAP,CAAgBC,WAAhB,CAA6BF,IAA7B,sHAC5BW,OAAO,CAACC,GAAR,CAAYX,OAAZ,CAAqBC,WAArB,EAD4B,wCAGpBR,CAAAA,KAAK,CAACS,GAAN,qBAAuBD,WAAW,CAACE,GAAnC,aAA0CH,OAAO,CAACG,GAAlD,EAAyD,CAC7DC,OAAO,CAAEL,IADoD,CAAzD,CAHoB,QAM1BQ,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,IAAvB,EAN0B,mFAQ1BC,OAAO,CAACC,GAAR,CAAY,aAAIC,OAAhB,EAR0B,sEAA9B,0EAYAjB,OAAO,CAACkC,iBAAR,2FAA4B,kBAAOC,KAAP,CAAc9B,OAAd,CAAuBC,WAAvB,CAAoCF,IAApC,sHAC1BW,OAAO,CAACC,GAAR,CAAYX,OAAZ,CAAqBC,WAArB,EAD0B,wCAGlBR,CAAAA,KAAK,CAACS,GAAN,2BACeD,WAAW,CAAC8B,QAD3B,aACuC/B,OAAO,CAACG,GAD/C,aACsD2B,KAAK,CAAC3B,GAD5D,EAEJ,CACEC,OAAO,CAAEL,IADX,CAFI,CAHkB,QASxBQ,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,IAAvB,EATwB,mFAWxBC,OAAO,CAACC,GAAR,CAAY,aAAIC,OAAhB,EAXwB,sEAA5B,iFAeAjB,OAAO,CAACqC,iBAAR,CAA4B,SAACC,eAAD,CAAkBC,SAAlB,CAAgC,CAC1DxB,OAAO,CAACC,GAAR,CAAY,YAAZ,CAA0BuB,SAA1B,EACAD,eAAe,CAAC,OAAD,CAAf,CACAC,SAAS,CAACf,OAAV,CAAkBgB,KAAlB,CAAwBC,OAAxB,CAAkC,OAAlC,CACD,CAJD,CAMAzC,OAAO,CAAC0C,kBAAR,CAA6B,SAACJ,eAAD,CAAkBC,SAAlB,CAAgC,CAC3DD,eAAe,CAAC,MAAD,CAAf,CACAC,SAAS,CAACf,OAAV,CAAkBgB,KAAlB,CAAwBC,OAAxB,CAAkC,MAAlC,CACD,CAHD,CAKAzC,OAAO,CAAC2C,0BAAR,2FAAqC,kBACnCrC,WADmC,CAEnCD,OAFmC,CAGnCiC,eAHmC,CAInCC,SAJmC,8JAO3BzC,CAAAA,KAAK,CAAC8C,MAAN,qBAA0BtC,WAAW,CAACE,GAAtC,aAA6CH,OAAO,CAACG,GAArD,EAP2B,QAQjCO,OAAO,CAACC,GAAR,CAAY,uBAAZ,EACAsB,eAAe,CAAC,MAAD,CAAf,CACAC,SAAS,CAACf,OAAV,CAAkBgB,KAAlB,CAAwBC,OAAxB,CAAkC,MAAlC,CACA7B,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,IAAvB,EAXiC,mFAajCC,OAAO,CAACC,GAAR,eAbiC,sEAArC,iFAiBAhB,OAAO,CAAC6C,wBAAR,2FAAmC,kBACjCvC,WADiC,CAEjCD,OAFiC,CAGjC8B,KAHiC,CAIjCG,eAJiC,CAKjCC,SALiC,8JAQzBzC,CAAAA,KAAK,CAAC8C,MAAN,2BACetC,WAAW,CAAC8B,QAD3B,aACuC/B,OAAO,CAACG,GAD/C,aACsD2B,KAAK,CAAC3B,GAD5D,EARyB,QAW/BO,OAAO,CAACC,GAAR,CAAY,uBAAZ,EACAsB,eAAe,CAAC,MAAD,CAAf,CACAC,SAAS,CAACf,OAAV,CAAkBgB,KAAlB,CAAwBC,OAAxB,CAAkC,MAAlC,CACA7B,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,IAAvB,EAd+B,mFAgB/BC,OAAO,CAACC,GAAR,eAhB+B,sEAAnC","sourcesContent":["const axios = require(\"axios\");\r\n\r\nexports.handleReply = (setReplyComment) => {\r\n  setReplyComment(true);\r\n};\r\n\r\nexports.handleReplyActive = async (\r\n  setReplyComment,\r\n  text,\r\n  comment,\r\n  currentUser\r\n) => {\r\n  try {\r\n    await axios.put(`/comments/reply/${comment._id}`, {\r\n      content: text,\r\n      type: \"reply\",\r\n      user: currentUser._id,\r\n    });\r\n    setReplyComment(false);\r\n    window.location.reload(true);\r\n  } catch (err) {\r\n    console.log(err.message);\r\n  }\r\n};\r\n\r\nexports.handleComment = async (text, setText, currentUser) => {\r\n  try {\r\n    await axios.post(\"/comments/\", {\r\n      content: text,\r\n      type: \"comment\",\r\n      user: currentUser._id,\r\n    });\r\n    setText(\"\");\r\n    window.location.reload(true);\r\n  } catch (err) {\r\n    console.log(err.message);\r\n  }\r\n};\r\n\r\nexports.handleEditComment = (textRef, setUpdate) => {\r\n  textRef.current.readOnly = false;\r\n  textRef.current.focus();\r\n  textRef.current.selectionStart = textRef.current.value.length;\r\n  setUpdate(true);\r\n  textRef.current.parentNode.classList.add(\"text-edit\");\r\n};\r\n\r\n// try {\r\n//   await axios.put(`/comments/${currentUser._id}/${comment._id}`, {\r\n//     content: text,\r\n//   });\r\n//   window.location.reload(true);\r\n// } catch (err) {\r\n//   console.log(err.message);\r\n// }\r\n\r\nexports.handleUpdateComment = async (comment, currentUser, text) => {\r\n  console.log(comment, currentUser);\r\n  try {\r\n    await axios.put(`/comments/${currentUser._id}/${comment._id}`, {\r\n      content: text,\r\n    });\r\n    window.location.reload(true);\r\n  } catch (err) {\r\n    console.log(err.message);\r\n  }\r\n};\r\n\r\nexports.handleUpdateReply = async (reply, comment, currentUser, text) => {\r\n  console.log(comment, currentUser);\r\n  try {\r\n    await axios.put(\r\n      `/comments/reply/${currentUser.username}/${comment._id}/${reply._id}`,\r\n      {\r\n        content: text,\r\n      }\r\n    );\r\n    window.location.reload(true);\r\n  } catch (err) {\r\n    console.log(err.message);\r\n  }\r\n};\r\n\r\nexports.handleDeleteModal = (setDisplayModal, deleteRef) => {\r\n  console.log(\"deleteRef:\", deleteRef);\r\n  setDisplayModal(\"block\");\r\n  deleteRef.current.style.display = \"block\";\r\n};\r\n\r\nexports.handleCancelDelete = (setDisplayModal, deleteRef) => {\r\n  setDisplayModal(\"none\");\r\n  deleteRef.current.style.display = \"none\";\r\n};\r\n\r\nexports.handleConfirmDeleteComment = async (\r\n  currentUser,\r\n  comment,\r\n  setDisplayModal,\r\n  deleteRef\r\n) => {\r\n  try {\r\n    await axios.delete(`/comments/${currentUser._id}/${comment._id}`);\r\n    console.log(\"deleted successfully!\");\r\n    setDisplayModal(\"none\");\r\n    deleteRef.current.style.display = \"none\";\r\n    window.location.reload(true);\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nexports.handleConfirmDeleteReply = async (\r\n  currentUser,\r\n  comment,\r\n  reply,\r\n  setDisplayModal,\r\n  deleteRef\r\n) => {\r\n  try {\r\n    await axios.delete(\r\n      `/comments/reply/${currentUser.username}/${comment._id}/${reply._id}`\r\n    );\r\n    console.log(\"deleted successfully!\");\r\n    setDisplayModal(\"none\");\r\n    deleteRef.current.style.display = \"none\";\r\n    window.location.reload(true);\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}