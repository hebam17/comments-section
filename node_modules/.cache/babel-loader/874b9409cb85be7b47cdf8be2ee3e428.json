{"ast":null,"code":"const axios = require(\"axios\");\n\nexports.handleReply = setReplyComment => {\n  setReplyComment(true);\n};\n\nexports.handleReplyActive = async (setReplyComment, text, comment, currentUser) => {\n  try {\n    await axios.put(`/comments/reply/${comment._id}`, {\n      content: text,\n      type: \"reply\",\n      user: currentUser._id\n    });\n    setReplyComment(false);\n    window.location.reload(true);\n  } catch (err) {\n    console.log(err.message);\n  }\n};\n\nexports.handleComment = async (text, setText, currentUser) => {\n  try {\n    await axios.post(\"/comments/\", {\n      content: text,\n      type: \"comment\",\n      user: currentUser._id\n    });\n    setText(\"\");\n    window.location.reload(true);\n  } catch (err) {\n    console.log(err.message);\n  }\n};\n\nexports.handleEditComment = (textRef, setUpdate) => {\n  textRef.current.readOnly = false;\n  textRef.current.focus();\n  textRef.current.selectionStart = textRef.current.value.length;\n  setUpdate(true);\n  textRef.current.parentNode.classList.add(\"text-edit\");\n}; // try {\n//   await axios.put(`/comments/${currentUser._id}/${comment._id}`, {\n//     content: text,\n//   });\n//   window.location.reload(true);\n// } catch (err) {\n//   console.log(err.message);\n// }\n\n\nexports.handleUpdateComment = async (comment, currentUser, text) => {\n  console.log(comment, currentUser);\n\n  try {\n    await axios.put(`/comments/${currentUser._id}/${comment._id}`, {\n      content: text\n    });\n    window.location.reload(true);\n  } catch (err) {\n    console.log(err.message);\n  }\n};\n\nexports.handleUpdateReply = async (reply, comment, currentUser, text) => {\n  console.log(comment, currentUser);\n\n  try {\n    await axios.put(`/comments/reply/${currentUser.username}/${comment._id}/${reply._id}`, {\n      content: text\n    });\n    window.location.reload(true);\n  } catch (err) {\n    console.log(err.message);\n  }\n};\n\nexports.handleDeleteModal = (setDisplayModal, deleteRef) => {\n  console.log(\"deleteRef:\", deleteRef);\n  setDisplayModal(\"block\");\n  deleteRef.current.style.display = \"block\";\n};\n\nexports.handleCancelDelete = (setDisplayModal, deleteRef) => {\n  setDisplayModal(\"none\");\n  deleteRef.current.style.display = \"none\";\n};\n\nexports.handleConfirmDeleteComment = async (currentUser, comment, setDisplayModal, deleteRef) => {\n  try {\n    console.log(\"deleted succedded!\");\n    await axios.delete(`/comments/${currentUser._id}/${comment._id}`);\n    console.log(\"deleted successfully!\");\n    setDisplayModal(\"none\");\n    deleteRef.current.style.display = \"none\";\n    window.location.reload(true);\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nexports.handleConfirmDeleteReply = async (currentUser, comment, setDisplayModal, deleteRef) => {\n  try {\n    console.log(\"deleted succedded!\");\n    await axios.delete(`/comments/reply/${currentUser.username}/${comment._id}/${reply._id}`);\n    console.log(\"deleted successfully!\");\n    setDisplayModal(\"none\");\n    deleteRef.current.style.display = \"none\";\n    window.location.reload(true);\n  } catch (err) {\n    console.log(err);\n  }\n};","map":{"version":3,"sources":["E:/courses/my_personal_file/challenges/comments-section/client/src/utils.js"],"names":["axios","require","exports","handleReply","setReplyComment","handleReplyActive","text","comment","currentUser","put","_id","content","type","user","window","location","reload","err","console","log","message","handleComment","setText","post","handleEditComment","textRef","setUpdate","current","readOnly","focus","selectionStart","value","length","parentNode","classList","add","handleUpdateComment","handleUpdateReply","reply","username","handleDeleteModal","setDisplayModal","deleteRef","style","display","handleCancelDelete","handleConfirmDeleteComment","delete","handleConfirmDeleteReply"],"mappings":"AAAA,MAAMA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;AAEAC,OAAO,CAACC,WAAR,GAAuBC,eAAD,IAAqB;AACzCA,EAAAA,eAAe,CAAC,IAAD,CAAf;AACD,CAFD;;AAIAF,OAAO,CAACG,iBAAR,GAA4B,OAC1BD,eAD0B,EAE1BE,IAF0B,EAG1BC,OAH0B,EAI1BC,WAJ0B,KAKvB;AACH,MAAI;AACF,UAAMR,KAAK,CAACS,GAAN,CAAW,mBAAkBF,OAAO,CAACG,GAAI,EAAzC,EAA4C;AAChDC,MAAAA,OAAO,EAAEL,IADuC;AAEhDM,MAAAA,IAAI,EAAE,OAF0C;AAGhDC,MAAAA,IAAI,EAAEL,WAAW,CAACE;AAH8B,KAA5C,CAAN;AAKAN,IAAAA,eAAe,CAAC,KAAD,CAAf;AACAU,IAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,IAAvB;AACD,GARD,CAQE,OAAOC,GAAP,EAAY;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,OAAhB;AACD;AACF,CAjBD;;AAmBAlB,OAAO,CAACmB,aAAR,GAAwB,OAAOf,IAAP,EAAagB,OAAb,EAAsBd,WAAtB,KAAsC;AAC5D,MAAI;AACF,UAAMR,KAAK,CAACuB,IAAN,CAAW,YAAX,EAAyB;AAC7BZ,MAAAA,OAAO,EAAEL,IADoB;AAE7BM,MAAAA,IAAI,EAAE,SAFuB;AAG7BC,MAAAA,IAAI,EAAEL,WAAW,CAACE;AAHW,KAAzB,CAAN;AAKAY,IAAAA,OAAO,CAAC,EAAD,CAAP;AACAR,IAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,IAAvB;AACD,GARD,CAQE,OAAOC,GAAP,EAAY;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,OAAhB;AACD;AACF,CAZD;;AAcAlB,OAAO,CAACsB,iBAAR,GAA4B,CAACC,OAAD,EAAUC,SAAV,KAAwB;AAClDD,EAAAA,OAAO,CAACE,OAAR,CAAgBC,QAAhB,GAA2B,KAA3B;AACAH,EAAAA,OAAO,CAACE,OAAR,CAAgBE,KAAhB;AACAJ,EAAAA,OAAO,CAACE,OAAR,CAAgBG,cAAhB,GAAiCL,OAAO,CAACE,OAAR,CAAgBI,KAAhB,CAAsBC,MAAvD;AACAN,EAAAA,SAAS,CAAC,IAAD,CAAT;AACAD,EAAAA,OAAO,CAACE,OAAR,CAAgBM,UAAhB,CAA2BC,SAA3B,CAAqCC,GAArC,CAAyC,WAAzC;AACD,CAND,C,CAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEAjC,OAAO,CAACkC,mBAAR,GAA8B,OAAO7B,OAAP,EAAgBC,WAAhB,EAA6BF,IAA7B,KAAsC;AAClEY,EAAAA,OAAO,CAACC,GAAR,CAAYZ,OAAZ,EAAqBC,WAArB;;AACA,MAAI;AACF,UAAMR,KAAK,CAACS,GAAN,CAAW,aAAYD,WAAW,CAACE,GAAI,IAAGH,OAAO,CAACG,GAAI,EAAtD,EAAyD;AAC7DC,MAAAA,OAAO,EAAEL;AADoD,KAAzD,CAAN;AAGAQ,IAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,IAAvB;AACD,GALD,CAKE,OAAOC,GAAP,EAAY;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,OAAhB;AACD;AACF,CAVD;;AAYAlB,OAAO,CAACmC,iBAAR,GAA4B,OAAOC,KAAP,EAAc/B,OAAd,EAAuBC,WAAvB,EAAoCF,IAApC,KAA6C;AACvEY,EAAAA,OAAO,CAACC,GAAR,CAAYZ,OAAZ,EAAqBC,WAArB;;AACA,MAAI;AACF,UAAMR,KAAK,CAACS,GAAN,CACH,mBAAkBD,WAAW,CAAC+B,QAAS,IAAGhC,OAAO,CAACG,GAAI,IAAG4B,KAAK,CAAC5B,GAAI,EADhE,EAEJ;AACEC,MAAAA,OAAO,EAAEL;AADX,KAFI,CAAN;AAMAQ,IAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,IAAvB;AACD,GARD,CAQE,OAAOC,GAAP,EAAY;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,OAAhB;AACD;AACF,CAbD;;AAeAlB,OAAO,CAACsC,iBAAR,GAA4B,CAACC,eAAD,EAAkBC,SAAlB,KAAgC;AAC1DxB,EAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BuB,SAA1B;AACAD,EAAAA,eAAe,CAAC,OAAD,CAAf;AACAC,EAAAA,SAAS,CAACf,OAAV,CAAkBgB,KAAlB,CAAwBC,OAAxB,GAAkC,OAAlC;AACD,CAJD;;AAMA1C,OAAO,CAAC2C,kBAAR,GAA6B,CAACJ,eAAD,EAAkBC,SAAlB,KAAgC;AAC3DD,EAAAA,eAAe,CAAC,MAAD,CAAf;AACAC,EAAAA,SAAS,CAACf,OAAV,CAAkBgB,KAAlB,CAAwBC,OAAxB,GAAkC,MAAlC;AACD,CAHD;;AAKA1C,OAAO,CAAC4C,0BAAR,GAAqC,OACnCtC,WADmC,EAEnCD,OAFmC,EAGnCkC,eAHmC,EAInCC,SAJmC,KAKhC;AACH,MAAI;AACFxB,IAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;AACA,UAAMnB,KAAK,CAAC+C,MAAN,CAAc,aAAYvC,WAAW,CAACE,GAAI,IAAGH,OAAO,CAACG,GAAI,EAAzD,CAAN;AACAQ,IAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ;AACAsB,IAAAA,eAAe,CAAC,MAAD,CAAf;AACAC,IAAAA,SAAS,CAACf,OAAV,CAAkBgB,KAAlB,CAAwBC,OAAxB,GAAkC,MAAlC;AACA9B,IAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,IAAvB;AACD,GAPD,CAOE,OAAOC,GAAP,EAAY;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD;AACF,CAhBD;;AAkBAf,OAAO,CAAC8C,wBAAR,GAAmC,OACjCxC,WADiC,EAEjCD,OAFiC,EAGjCkC,eAHiC,EAIjCC,SAJiC,KAK9B;AACH,MAAI;AACFxB,IAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;AACA,UAAMnB,KAAK,CAAC+C,MAAN,CACH,mBAAkBvC,WAAW,CAAC+B,QAAS,IAAGhC,OAAO,CAACG,GAAI,IAAG4B,KAAK,CAAC5B,GAAI,EADhE,CAAN;AAGAQ,IAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ;AACAsB,IAAAA,eAAe,CAAC,MAAD,CAAf;AACAC,IAAAA,SAAS,CAACf,OAAV,CAAkBgB,KAAlB,CAAwBC,OAAxB,GAAkC,MAAlC;AACA9B,IAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,IAAvB;AACD,GATD,CASE,OAAOC,GAAP,EAAY;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD;AACF,CAlBD","sourcesContent":["const axios = require(\"axios\");\r\n\r\nexports.handleReply = (setReplyComment) => {\r\n  setReplyComment(true);\r\n};\r\n\r\nexports.handleReplyActive = async (\r\n  setReplyComment,\r\n  text,\r\n  comment,\r\n  currentUser\r\n) => {\r\n  try {\r\n    await axios.put(`/comments/reply/${comment._id}`, {\r\n      content: text,\r\n      type: \"reply\",\r\n      user: currentUser._id,\r\n    });\r\n    setReplyComment(false);\r\n    window.location.reload(true);\r\n  } catch (err) {\r\n    console.log(err.message);\r\n  }\r\n};\r\n\r\nexports.handleComment = async (text, setText, currentUser) => {\r\n  try {\r\n    await axios.post(\"/comments/\", {\r\n      content: text,\r\n      type: \"comment\",\r\n      user: currentUser._id,\r\n    });\r\n    setText(\"\");\r\n    window.location.reload(true);\r\n  } catch (err) {\r\n    console.log(err.message);\r\n  }\r\n};\r\n\r\nexports.handleEditComment = (textRef, setUpdate) => {\r\n  textRef.current.readOnly = false;\r\n  textRef.current.focus();\r\n  textRef.current.selectionStart = textRef.current.value.length;\r\n  setUpdate(true);\r\n  textRef.current.parentNode.classList.add(\"text-edit\");\r\n};\r\n\r\n// try {\r\n//   await axios.put(`/comments/${currentUser._id}/${comment._id}`, {\r\n//     content: text,\r\n//   });\r\n//   window.location.reload(true);\r\n// } catch (err) {\r\n//   console.log(err.message);\r\n// }\r\n\r\nexports.handleUpdateComment = async (comment, currentUser, text) => {\r\n  console.log(comment, currentUser);\r\n  try {\r\n    await axios.put(`/comments/${currentUser._id}/${comment._id}`, {\r\n      content: text,\r\n    });\r\n    window.location.reload(true);\r\n  } catch (err) {\r\n    console.log(err.message);\r\n  }\r\n};\r\n\r\nexports.handleUpdateReply = async (reply, comment, currentUser, text) => {\r\n  console.log(comment, currentUser);\r\n  try {\r\n    await axios.put(\r\n      `/comments/reply/${currentUser.username}/${comment._id}/${reply._id}`,\r\n      {\r\n        content: text,\r\n      }\r\n    );\r\n    window.location.reload(true);\r\n  } catch (err) {\r\n    console.log(err.message);\r\n  }\r\n};\r\n\r\nexports.handleDeleteModal = (setDisplayModal, deleteRef) => {\r\n  console.log(\"deleteRef:\", deleteRef);\r\n  setDisplayModal(\"block\");\r\n  deleteRef.current.style.display = \"block\";\r\n};\r\n\r\nexports.handleCancelDelete = (setDisplayModal, deleteRef) => {\r\n  setDisplayModal(\"none\");\r\n  deleteRef.current.style.display = \"none\";\r\n};\r\n\r\nexports.handleConfirmDeleteComment = async (\r\n  currentUser,\r\n  comment,\r\n  setDisplayModal,\r\n  deleteRef\r\n) => {\r\n  try {\r\n    console.log(\"deleted succedded!\");\r\n    await axios.delete(`/comments/${currentUser._id}/${comment._id}`);\r\n    console.log(\"deleted successfully!\");\r\n    setDisplayModal(\"none\");\r\n    deleteRef.current.style.display = \"none\";\r\n    window.location.reload(true);\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nexports.handleConfirmDeleteReply = async (\r\n  currentUser,\r\n  comment,\r\n  setDisplayModal,\r\n  deleteRef\r\n) => {\r\n  try {\r\n    console.log(\"deleted succedded!\");\r\n    await axios.delete(\r\n      `/comments/reply/${currentUser.username}/${comment._id}/${reply._id}`\r\n    );\r\n    console.log(\"deleted successfully!\");\r\n    setDisplayModal(\"none\");\r\n    deleteRef.current.style.display = \"none\";\r\n    window.location.reload(true);\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}