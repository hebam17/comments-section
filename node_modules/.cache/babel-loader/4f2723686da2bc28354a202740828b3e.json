{"ast":null,"code":"import _asyncToGenerator from\"E:/courses/my_personal_file/challenges/comments-section/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"E:/courses/my_personal_file/challenges/comments-section/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"E:\\\\courses\\\\my_personal_file\\\\challenges\\\\comments-section\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState}from\"react\";import{useLocation}from\"react-router-dom\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Scores(_ref){var score=_ref.score,currentUser=_ref.currentUser,commentId=_ref.commentId;var _useState=useState(score),_useState2=_slicedToArray(_useState,2),newScore=_useState2[0],setNewScore=_useState2[1];var location=useLocation();var handlePlus=function handlePlus(){setNewScore(newScore+1);var setScore=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(location.pathname!==\"/\")){_context.next=6;break;}console.log(currentUser.username);_context.next=4;return axios.put(\"/comments/\".concat(currentUser._id,\"/\").concat(commentId,\"/upvote\"));case 4:res=_context.sent;console.log(res);case 6:case\"end\":return _context.stop();}}},_callee);}));return function setScore(){return _ref2.apply(this,arguments);};}();setScore();};var handleMinus=function handleMinus(){setNewScore(newScore-1);var setScore=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(location.pathname!==\"/\")){_context2.next=6;break;}console.log(currentUser.username);_context2.next=4;return axios.put(\"/comments/\".concat(currentUser._id,\"/\").concat(commentId,\"/downvote\"));case 4:res=_context2.sent;console.log(res);case 6:case\"end\":return _context2.stop();}}},_callee2);}));return function setScore(){return _ref3.apply(this,arguments);};}();setScore();};return/*#__PURE__*/_jsxs(\"div\",{className:\"scores\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"plus trans\",onClick:handlePlus,children:/*#__PURE__*/_jsx(\"img\",{src:\"/images/icon-plus.svg\",alt:\"plus scores\",style:{visibility:\"hidden\"}})}),/*#__PURE__*/_jsx(\"div\",{className:\"score-value\",children:newScore}),/*#__PURE__*/_jsx(\"div\",{className:\"minus trans\",onClick:handleMinus,children:/*#__PURE__*/_jsx(\"img\",{src:\"/images/icon-minus.svg\",alt:\"minus scores\",style:{visibility:\"hidden\"}})})]});}","map":{"version":3,"sources":["E:/courses/my_personal_file/challenges/comments-section/client/src/components/Scores.js"],"names":["React","useState","useLocation","axios","Scores","score","currentUser","commentId","newScore","setNewScore","location","handlePlus","setScore","pathname","console","log","username","put","_id","res","handleMinus","visibility"],"mappings":"ycAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wFAEA,cAAe,SAASC,CAAAA,MAAT,MAAmD,IAAjCC,CAAAA,KAAiC,MAAjCA,KAAiC,CAA1BC,WAA0B,MAA1BA,WAA0B,CAAbC,SAAa,MAAbA,SAAa,CAChE,cAAgCN,QAAQ,CAACI,KAAD,CAAxC,wCAAOG,QAAP,eAAiBC,WAAjB,eACA,GAAMC,CAAAA,QAAQ,CAAGR,WAAW,EAA5B,CAEA,GAAMS,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACvBF,WAAW,CAACD,QAAQ,CAAG,CAAZ,CAAX,CACA,GAAMI,CAAAA,QAAQ,2FAAG,gJACXF,QAAQ,CAACG,QAAT,GAAsB,GADX,0BAEbC,OAAO,CAACC,GAAR,CAAYT,WAAW,CAACU,QAAxB,EAFa,sBAGKb,CAAAA,KAAK,CAACc,GAAN,qBACHX,WAAW,CAACY,GADT,aACgBX,SADhB,YAHL,QAGPY,GAHO,eAMbL,OAAO,CAACC,GAAR,CAAYI,GAAZ,EANa,sDAAH,kBAARP,CAAAA,QAAQ,2CAAd,CASAA,QAAQ,GACT,CAZD,CAcA,GAAMQ,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxBX,WAAW,CAACD,QAAQ,CAAG,CAAZ,CAAX,CACA,GAAMI,CAAAA,QAAQ,2FAAG,qJACXF,QAAQ,CAACG,QAAT,GAAsB,GADX,2BAEbC,OAAO,CAACC,GAAR,CAAYT,WAAW,CAACU,QAAxB,EAFa,uBAGKb,CAAAA,KAAK,CAACc,GAAN,qBACHX,WAAW,CAACY,GADT,aACgBX,SADhB,cAHL,QAGPY,GAHO,gBAMbL,OAAO,CAACC,GAAR,CAAYI,GAAZ,EANa,wDAAH,kBAARP,CAAAA,QAAQ,2CAAd,CASAA,QAAQ,GACT,CAZD,CAaA,mBACE,aAAK,SAAS,CAAC,QAAf,wBACE,YAAK,SAAS,CAAC,YAAf,CAA4B,OAAO,CAAED,UAArC,uBACE,YACE,GAAG,CAAC,uBADN,CAEE,GAAG,CAAC,aAFN,CAGE,KAAK,CAAE,CAAEU,UAAU,CAAE,QAAd,CAHT,EADF,EADF,cAQE,YAAK,SAAS,CAAC,aAAf,UAA8Bb,QAA9B,EARF,cASE,YAAK,SAAS,CAAC,aAAf,CAA6B,OAAO,CAAEY,WAAtC,uBACE,YACE,GAAG,CAAC,wBADN,CAEE,GAAG,CAAC,cAFN,CAGE,KAAK,CAAE,CAAEC,UAAU,CAAE,QAAd,CAHT,EADF,EATF,GADF,CAmBD","sourcesContent":["import React, { useState } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nexport default function Scores({ score, currentUser, commentId }) {\r\n  const [newScore, setNewScore] = useState(score);\r\n  const location = useLocation();\r\n\r\n  const handlePlus = () => {\r\n    setNewScore(newScore + 1);\r\n    const setScore = async () => {\r\n      if (location.pathname !== \"/\") {\r\n        console.log(currentUser.username);\r\n        const res = await axios.put(\r\n          `/comments/${currentUser._id}/${commentId}/upvote`\r\n        );\r\n        console.log(res);\r\n      }\r\n    };\r\n    setScore();\r\n  };\r\n\r\n  const handleMinus = () => {\r\n    setNewScore(newScore - 1);\r\n    const setScore = async () => {\r\n      if (location.pathname !== \"/\") {\r\n        console.log(currentUser.username);\r\n        const res = await axios.put(\r\n          `/comments/${currentUser._id}/${commentId}/downvote`\r\n        );\r\n        console.log(res);\r\n      }\r\n    };\r\n    setScore();\r\n  };\r\n  return (\r\n    <div className=\"scores\">\r\n      <div className=\"plus trans\" onClick={handlePlus}>\r\n        <img\r\n          src=\"/images/icon-plus.svg\"\r\n          alt=\"plus scores\"\r\n          style={{ visibility: \"hidden\" }}\r\n        />\r\n      </div>\r\n      <div className=\"score-value\">{newScore}</div>\r\n      <div className=\"minus trans\" onClick={handleMinus}>\r\n        <img\r\n          src=\"/images/icon-minus.svg\"\r\n          alt=\"minus scores\"\r\n          style={{ visibility: \"hidden\" }}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}